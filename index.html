<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI番茄钟 - 超甜西红柿</title>
  <link rel="stylesheet" href="style.css" />
  <!-- 电子管字体 -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>超甜西红柿</h1>
      <div>
        <button id="history-btn" class="icon-btn">📜</button>
        <button id="settings-btn" class="icon-btn">⚙</button>
      </div>
    </div>

    <!-- 头像 + 环绕进度条 -->
    <div class="avatar-wrapper">
      <img id="avatar" src="avatar.jpg" alt="西红柿" class="avatar" />
      <svg class="progress-ring" width="180" height="180">
        <circle class="progress-ring__circle-bg" stroke="#ffe0e0" stroke-width="6" fill="transparent" r="84" cx="90" cy="90"/>
        <circle class="progress-ring__circle" stroke="#ff6b6b" stroke-width="6" fill="transparent" r="84" cx="90" cy="90"/>
      </svg>
    </div>

    <!-- 电子管时间 -->
    <div id="timer-text" class="digital-timer">25:00</div>

    <!-- 任务输入 -->
    <div class="task-input">
      <input type="text" id="task-name" placeholder="今天任务：写论文、背单词..." />
    </div>

    <!-- 控制按钮 -->
    <button id="start-btn" class="control-btn">开始专注</button>

    <!-- 提示文字 -->
    <div id="thinking" class="thinking">戳我一下试试～</div>

    <!-- 统计 -->
    <div id="stats" class="stats">今日已完成 0 个番茄</div>

    <!-- 设置面板 -->
    <div id="settings-panel" class="settings-panel">
      <h3>编辑人设</h3>
      <textarea id="personality" placeholder="输入你搭子的人设..."></textarea>

      <h3 style="margin-top: 20px;">外观设置</h3>

      <!-- 页面背景 -->
      <div class="setting-item">
        <label>页面背景：</label>
        <select id="bg-select">
          <option value="gradient1">蓝天渐变</option>
          <option value="gradient2">粉紫渐变</option>
          <option value="gradient3">薄荷绿</option>
          <option value="custom">自定义图片</option>
        </select>
        <input type="file" id="bg-upload" accept="image/*" style="display:none;">
      </div>

      <!-- 窗口颜色 + 透明度（同行） -->
      <div class="setting-row">
        <label>窗口颜色：</label>
        <input type="color" id="container-bg-color" value="#ffffff">
        <input type="range" id="container-opacity" min="70" max="100" value="100">
        <span id="opacity-value">100%</span>
      </div>

      <!-- 主题字体色 -->
      <div class="setting-row">
        <label>主题字体色：</label>
        <input type="color" id="theme-color" value="#ff6b6b">
      </div>

      <!-- 更换头像 + 预览（同行） -->
      <div class="setting-row" style="align-items: center;">
        <label>更换头像：</label>
        <button id="change-avatar-btn" class="small-btn">选择图片</button>
        <input type="file" id="avatar-upload" accept="image/*" style="display:none;">
        <div id="avatar-preview" style="margin-left: 12px;">
          <img src="avatar.jpg" style="width:48px;height:48px;border-radius:50%;object-fit:cover;border:2px solid #eee;">
        </div>
      </div>

      <div class="btn-group">
        <button id="save-btn">保存</button>
        <button id="close-btn">关闭</button>
      </div>
    </div>

    <!-- 历史记录面板 -->
    <div id="history-panel" class="settings-panel" style="display:none; right: 55px;">
      <h3>历史番茄记录</h3>
      <div id="history-list"></div>
      <div class="btn-group">
        <button id="clear-history">清空</button>
        <button id="close-history">关闭</button>
      </div>
    </div>

    <!-- 头像裁剪模态框 -->
    <div id="cropper-modal" class="cropper-modal" style="display:none;">
      <div class="cropper-container">
        <h3>裁剪头像</h3>
        <div class="cropper-wrapper">
          <img id="cropper-image" src="" alt="">
          <div class="cropper-mask">
            <div class="cropper-circle"></div>
          </div>
        </div>
        <div class="cropper-controls">
          <input type="range" id="zoom-slider" min="0.3" max="3" step="0.1" value="1">
          <div class="btn-group">
            <button id="crop-cancel">取消</button>
            <button id="crop-confirm">确认</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>